# import-linter.toml

[tool.importlinter]
  root_package = "showcov"

  [[tool.importlinter.contracts]]
    name = "model is pure"
    type = "forbidden"
    source_modules = ["showcov.model"]
    forbidden_modules = [
      "showcov.engine",
      "showcov.adapters",
      "showcov.entrypoints",
      "showcov.usecases",
    ]

  [[tool.importlinter.contracts]]
    name = "engine depends only on model"
    type = "forbidden"
    source_modules = ["showcov.engine"]
    forbidden_modules = [
      "showcov.adapters",
      "showcov.entrypoints",
      "showcov.usecases",
    ]

  [[tool.importlinter.contracts]]
    name = "coverage adapters don't depend on engine/render/entrypoints"
    type = "forbidden"
    source_modules = ["showcov.adapters.coverage"]
    forbidden_modules = [
      "showcov.engine",
      "showcov.adapters.render",
      "showcov.entrypoints",
    ]

  [[tool.importlinter.contracts]]
    name = "render adapters don't depend on engine/coverage/entrypoints"
    type = "forbidden"
    source_modules = ["showcov.adapters.render"]
    forbidden_modules = [
      "showcov.engine",
      "showcov.adapters.coverage",
      "showcov.entrypoints",
    ]

  [[tool.importlinter.contracts]]
    name = "entrypoints depend on usecases, not engine/adapters directly"
    type = "forbidden"
    source_modules = ["showcov.entrypoints"]
    forbidden_modules = [
      "showcov.engine",
      "showcov.adapters",
      "showcov.domain",
    ]
